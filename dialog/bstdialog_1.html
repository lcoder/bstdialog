<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>百顺通云-全局对话框</title>
    <script type="text/javascript" src = "js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src = "js/dialog.min.js"></script>
    <script type="text/javascript" src = "js/bstdialog.js"></script>
    <link type="text/css" rel="stylesheet" href="css/dialog.css" />
    <link rel="shortcut icon" href="http://172.16.3.174/cdn/bst/images/favicon.png" type="image/x-icon">
    <!-- 代码高亮 snippet插件-->
    <script type="text/javascript" src = "js/jquery.snippet.js"></script>
    <link type="text/css" rel="stylesheet" href="css/jquery.snippet.css" />
    <style type="text/css">
a{color: #000;text-decoration: none;}
dl{font-size: 14px;}
dl a{font-size: 12px;color:red;margin-left: 20px;}
dl dt{text-indent: 2em;margin-top: 30px;}
dl dd{text-indent: 2em;}
dl dd code{color: #666;display: block;}
dl dd span{color: #666;}
ul,ol{list-style: none;}
pre{font-size: 14px;}
p a{color: red;}
.helps { font-size: 14px; }
.helps pre { padding: 20px; margin: 10px 0; border: solid 1px #e7e1cd; background-color: #fffdef; overflow: auto; font-size: 12px;}
.icon_lists li { float: left; width: 100px; height: 150px; text-align: center; }
.icon_lists .icon { font-size: 42px; line-height: 100px; margin: 10px 0; color: #333; -webkit-transition: font-size 0.25s ease-out 0s; -moz-transition: font-size 0.25s ease-out 0s; transition: font-size 0.25s ease-out 0s; }
.icon_lists .icon:hover { font-size: 100px; }
div a{color:red;font-size: 12px;}

html{background:#fafafa; color:#333; _background-image:url(about:blank);_background-attachment:fixed;}
html.isPhone{min-width: 1196px;}
body,h1,h2,h3,h4,h5,h6,hr,p,blockquote,dl,dt,dd,ul,ol,li,pre,form,fieldset,legend,
button,input,select,textarea,th,td{margin:0;padding:0;}
body,button,input,select,textarea{ font:16px/1.5 "Microsoft YaHei",Tahoma,Helvetica,Arial,simsun}
address,cite,dfn,em,var,i{font-style:normal;}
ul,ol{list-style:none;}
fieldset,img{border:0;}
h1{font-size:18px;}
h2{font-size:14px; font-weight:bold;}
h3{font-size:14px; font-weight:400;}
h4,h5{font-size:12px; font-weight:400;}
input,textarea,button,select{font-size:12px; outline:none; resize:none; color:#333;}
button{cursor: pointer;}
table{border-collapse:collapse;border-spacing:0;}
.clear {clear:both; height:0; font-size:0; line-height:0; overflow:hidden;}
.cle:after, .clearfix:after, .clear_f:after, .cle_float:after{visibility:hidden; display:block; font-size:0; content:'\20'; clear:both; height:0;}
.cle, .clearfix, .clear_f, .cle_float{*zoom:1}
.fl {float:left;}
.fr {float:right;}
a{text-decoration:none; color:#333; -webkit-transition: color .2s;-moz-transition: color .2s;-o-transition: color .2s; -ms-transition: color .2s;transition: color .2s;}
a:hover{text-decoration:underline; color: #00A2CA;}
a:focus,area:focus{outline:none;}
::selection {background:#00A2CA; color:#fff;}
canvas {-ms-touch-action: double-tap-zoom;}

    </style>
    <script type="text/javascript">
    $(function(){
        var dialog = null,
            html = '',
            callback = null;
        html = '<div class="product_box"><ul class="nav_title cle"><li>订单编号</li><li>产品名称</li><li>公司名称</li><li>域名</li><li>子产品</li><li>使用年限</li><li>使用人数</li></ul><dl><dt class="product_inforbox"><ul class="cle"><li class="choose_pro"><input type="radio" name="choose_pro"></li><li>1546478978665411</li><li>MC云办公标准版</li><li>浙江百顺通</li><li>www.bstyun.com</li><li>OA,视频会议，财务管理</li><li>10</li><li>5000</li><li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a></li></ul></dt><dd class="product_detail"><div><h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4><dl><dt>选择该套餐后，您所购买的产品：</dt><dd>使用年限：18年</dd><dd>使用人数：200人</dd><dd>单价：￥1000</dd><dd>支付的金额：￥285000</dd></dl><p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a></p></div></dd><dt class="product_inforbox"><ul class="cle"><li class="choose_pro"><input type="radio" name="choose_pro"></li><li>1046478978665411</li><li>MC云办公标准版</li><li>浙江百顺通</li><li>www.bstyun.com</li><li>OA,视频会议，财务管理,OA,视频会议，财务管理</li><li>10</li><li>5000</li><li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a></li></ul></dt><dd class="product_detail"><div><h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4><dl><dt>选择该套餐后，您所购买的产品：</dt><dd>使用年限：18年</dd><dd>使用人数：200人</dd><dd>单价：￥1000</dd><dd>支付的金额：￥285000</dd></dl><p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a></p></div></dd><dt class="product_inforbox"><ul class="cle"><li class="choose_pro"><input type="radio" name="choose_pro"></li><li>1146478978665411</li><li>MC云办公标准版</li><li>浙江百顺通</li><li>www.bstyun.com</li><li>OA,视频会议，财务管理,OA,视频会议，财务管理</li><li>10</li><li>5000</li><li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a></li></ul></dt><dd class="product_detail"><div><h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4><dl><dt>选择该套餐后，您所购买的产品：</dt><dd>使用年限：18年</dd><dd>使用人数：200人</dd><dd>单价：￥1000</dd><dd>支付的金额：￥285000</dd></dl><p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a></p></div></dd><dt class="product_inforbox"><ul class="cle"><li class="choose_pro"><input type="radio" name="choose_pro"></li><li>1246478978665411</li><li>MC云办公标准版</li><li>浙江百顺通</li><li>www.bstyun.com</li><li>OA,视频会议，财务管理,OA,视频会议，财务管理</li><li>10</li><li>5000</li><li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a></li></ul></dt><dd class="product_detail"><div><h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4><dl><dt>选择该套餐后，您所购买的产品：</dt><dd>使用年限：18年</dd><dd>使用人数：200人</dd><dd>单价：￥1000</dd><dd>支付的金额：￥285000</dd></dl><p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a></p></div></dd></dl><div class="page_control"><span></span></div></div>';
        dialog = BSTYUN.dialog.creat({
          id:'ok',
          title: '',
          content:html,
          init:function(){
            var $box = $('.product_box'),
                $inforbox = $box.find('.product_inforbox'),
                $radio = $box.find('.choose_pro input'),
                $detail = $box.find('.product_detail'),
                $page = $box.find('.page_control span'),
                element = 1,  //分子，当前页数,默认第一页
                denominator = Math.ceil($inforbox.size()/3),//分母，总页数
                page_html = '';
            var maxHeight = 0;
            $inforbox.find('ul li').each(function(){
              var $this = $(this),
                  height = $this.height();
                if (height > maxHeight) {maxHeight = height};
            }).each(function(index, val) {
               var $this = $(this);
               $this.height(maxHeight)
            });
            /*分页功能,默认显示第一条*/
            page_html = '<span><em class="element">1</em>/<em class="denominator">'+denominator+'</em>页，共<em class="denominator">'+denominator+'</em>页，</span><span><a href="javascript:void(0);" data-flag="index">首页</a> <a href="javascript:void(0);" data-flag="prev">上一页</a> <a href="javascript:void(0);" data-flag="next">下一页</a></span>';
            $page.html(page_html);
            showPage(1);
            var $ele = $page.find('.element');
            /*绑定单选按钮事件,默认选中第一条*/
            $radio.on('click', function(event) {
              var $this = $(this);
              $detail.hide();
              $this.parents('dt').next('dd').show();
            });
            $radio.eq(0).trigger('click');
            /*绑定分页按钮*/
            $page.on('click', 'a', function(event) {
              var $this = $(this),
                  flag = $this.attr('data-flag');
              switch(flag){
                case 'index':
                  $ele.text(1);
                  showPage(1);
                  break;
                case 'next':
                  var index = parseInt($ele.text()),
                      next = null;
                  if (index < denominator) {
                    next = index+1;
                    showPage(next);
                    $ele.text(next);
                  }
                  break;
                case 'prev':
                  var index = parseInt($ele.text()),
                      prev = null;
                  if (index > 1) {
                    prev = index-1;
                    showPage(prev);
                    $ele.text(prev);
                  }
                  break;
              }
            });
            /*显示第几页*/
            function showPage(count){// 0,1,2  3,4,5  ,6,7,8
              var count = count,
                  range = [count*3-3,count*3-1];
              $inforbox.each(function(index, val) {
                 var $this = $(this);
                 if (range[0] <= index && index <= range[1]) {
                   $this.show();
                 }else{
                    $this.hide().next('dd').hide();
                 }
              });
              /*原先选中的状态还是为选中*/
              $radio.each(function(index, val) {
                var $this = $(this),
                    $prarent = $this.parents('.product_inforbox'),
                    index = $inforbox.index($prarent);
                  if (range[0] <= index && index <= range[1]) {
                     if ($this.prop('checked')) {
                      $this.parents('dt').next('dd').show();
                     }
                  };
              });
            }
          }
        });
        dialog.position('50%','50%')//重新定位
        dialog.size('1045px','470px')//重新定义大小
        //dialog.hide()
        BSTYUN.dialog.ok('修改成功');
    });
    </script>
<style type="text/css">
body{padding-left: 50px;}
.product_box dl dt,.product_box dl dd{margin-top: 0;text-indent: 0;}
/**/
.product_box{}
.product_box ul{}
.product_box ul li{float: left;width: 120px;text-indent: 0;text-align: center;}
.product_box ul li.choose_pro{width: 18px;margin-left: -20px;}
.product_box ul li.lookfor_detail{}
.product_box ul li.lookfor_detail a{padding:3px 10px;color: #fff;background-color: #00A7CB;border-radius: 3px;}
.product_box dl dd.product_detail{margin-bottom: 20px;}
.product_box dl dd p{padding-right: 24px;padding-bottom: 5px;}
.product_box dl dd p a.goto_pay{float: right;padding:3px 10px;color: #fff;background-color: #3695E5;border-radius: 3px;}
.product_box dl dt.product_inforbox,.product_box dl dd.product_detail{border-bottom: 1px solid #ccc;}
.product_box dl dd.product_detail{display: none;}
.product_box dl dd.product_detail dl dd{text-indent: 2em;}
.product_box .nav_title{background-color: #EDFBFE;color: #000;padding: 8px 0;}
.product_box .page_control{padding-bottom:10px;text-align: center;position: absolute;bottom:0;left:50%;left:calc(50% - 120px);}
.product_box .page_control em,.product_box .page_control a,.product_box .page_control span{color:#ADADAD;font-size: 14px;}
.product_box .page_control a{padding: 0 3px;}
.product_detail table{margin:30px 0 0 30px;}
.product_detail table tr td{width: 130px;line-height:25px;text-align: center;vertical-align: middle;border:1px solid #ccc;}
</style>
</head>

<body>
<div class="product_box">
        <ul class="nav_title cle">
            <li>订单编号</li>
            <li>产品名称</li>
            <li>公司名称</li>
            <li>域名</li>
            <li>子产品</li>
            <li>使用年限</li>
            <li>使用人数</li>
        </ul>
        <dl>
            <dt class="product_inforbox">
                <ul class="cle">
                    <li class="choose_pro">
                        <input type="radio" name="choose_pro">
                    </li>
                    <li>1546478978665411</li>
                    <li>MC云办公标准版</li>
                    <li>浙江百顺通</li>
                    <li>www.bstyun.com</li>
                    <li>OA,视频会议，财务管理</li>
                    <li>10</li>
                    <li>5000</li>
                    <li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a>
                    </li>
                </ul>
            </dt>
            <dd class="product_detail">
                <div>
                    <h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4>
                    <table>
                      <tbody>
                        <tr>
                          <td></td>
                          <td>产品名称</td>
                          <td>用户数量</td>
                          <td>使用年限</td>
                          <td>单价</td>
                          <td>金额</td>
                        </tr>
                        <tr>
                          <td>当前购买</td>
                          <td>132</td>
                          <td>123</td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                        <tr>
                          <td>实际购买</td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                          <td></td>
                        </tr>
                      </tbody>
                    </table>
                    <p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a>
                    </p>
                </div>
            </dd>
            <dt class="product_inforbox">
                <ul class="cle">
                    <li class="choose_pro">
                        <input type="radio" name="choose_pro">
                    </li>
                    <li>1046478978665411</li>
                    <li>MC云办公标准版</li>
                    <li>浙江百顺通</li>
                    <li>www.bstyun.com</li>
                    <li>OA,视频会议，财务管理,OA,视频会议，财务管理</li>
                    <li>10</li>
                    <li>5000</li>
                    <li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a>
                    </li>
                </ul>
            </dt>
            <dd class="product_detail">
                <div>
                    <h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4>
                    <dl>
                        <dt>选择该套餐后，您所购买的产品：</dt>
                        <dd>使用年限：18年</dd>
                        <dd>使用人数：200人</dd>
                        <dd>单价：￥1000</dd>
                        <dd>支付的金额：￥285000</dd>
                    </dl>
                    <p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a>
                    </p>
                </div>
            </dd>
            <dt class="product_inforbox">
                <ul class="cle">
                    <li class="choose_pro">
                        <input type="radio" name="choose_pro">
                    </li>
                    <li>1146478978665411</li>
                    <li>MC云办公标准版</li>
                    <li>浙江百顺通</li>
                    <li>www.bstyun.com</li>
                    <li>OA,视频会议，财务管理,OA,视频会议，财务管理</li>
                    <li>10</li>
                    <li>5000</li>
                    <li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a>
                    </li>
                </ul>
            </dt>
            <dd class="product_detail">
                <div>
                    <h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4>
                    <dl>
                        <dt>选择该套餐后，您所购买的产品：</dt>
                        <dd>使用年限：18年</dd>
                        <dd>使用人数：200人</dd>
                        <dd>单价：￥1000</dd>
                        <dd>支付的金额：￥285000</dd>
                    </dl>
                    <p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a>
                    </p>
                </div>
            </dd>
            <dt class="product_inforbox">
                <ul class="cle">
                    <li class="choose_pro">
                        <input type="radio" name="choose_pro">
                    </li>
                    <li>1246478978665411</li>
                    <li>MC云办公标准版</li>
                    <li>浙江百顺通</li>
                    <li>www.bstyun.com</li>
                    <li>OA,视频会议，财务管理,OA,视频会议，财务管理</li>
                    <li>10</li>
                    <li>5000</li>
                    <li class="lookfor_detail"><a href="javascript:void(0);" target="_blank">查看详情</a>
                    </li>
                </ul>
            </dt>
            <dd class="product_detail">
                <div>
                    <h4>您所选套餐为MC云办公标准版，最大使用人数为500人，截至目前，使用年限剩余18年</h4>
                    <dl>
                        <dt>选择该套餐后，您所购买的产品：</dt>
                        <dd>使用年限：18年</dd>
                        <dd>使用人数：200人</dd>
                        <dd>单价：￥1000</dd>
                        <dd>支付的金额：￥285000</dd>
                    </dl>
                    <p>确定请点击“去支付”按钮。<a href="javascript:void(0)" class="goto_pay">去支付</a>
                    </p>
                </div>
            </dd>
        </dl>
        <div class="page_control">
            <span></span>
        </div>
    </div>
      
<h1 style="text-align:center;padding:20px;">BSTYUN.dialog对话框示例</h1>
<p>调用需要<br/><span style="font-weight:800;">js引用</span>：<br/>
    基于jquery，引入jquery之后调用<br/>
    &lt;script type="text/javascript" src = "js/<a href="http://172.16.3.174/cdn/bst/js/dialog.min.js">dialog.min.js</a>"&gt;&lt;/script&gt;<br/>
    &lt;script type="text/javascript" src = "js/<a href="http://172.16.3.174/cdn/bst/bstyun_dialog_source/bstdialog.min.js">bstdialog.min.js</a>"&gt;&lt;/script&gt;<br/>
    <span style="font-weight:800;">css引用</span><br/>
    &lt;link type="text/css" rel="stylesheet" href="css/<a href="http://172.16.3.174/cdn/bst/css/dialog.min.css">dialog.min.css</a>" /&gt;
</p>
<h3 style="font-size:18px;margin-top:20px;">demo：</h3>
<dl>
  <dt>提示对话框<a href="javascript:void(0)" name = "ok">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.ok('修改成功');</pre>
    </code>
  </dd>

  <dt>警告对话框<a href="javascript:void(0)" name = "warn">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.warn('网络错误，请检查');</pre>
    </code>
  </dd>

  <dt>操作成功对话框<a href="javascript:void(0);" name = "success">戳我查看</a></dt>
  <dd>
    code：
    <code>
     <pre class="js">BSTYUN.dialog.success('评论成功');</pre>
    </code>
  </dd>

  <dt>禁止操作对话框<a href="javascript:void(0)" name = "prohibit">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.prohibit('请先选择套餐');</pre>
    </code>
  </dd>

  <dt>右下角通知对话框<a href="javascript:void(0)" name = "notice">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.notice('尊敬的顾客朋友，您IQ卡余额不足10元，请及时充值');</pre>
    </code>
  </dd>

  <dt>确认对话框<a href="javascript:void(0);" name ="confirm">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.confirm('确认提交订单？');</pre>
    </code>
  </dd>
  <dt>ajax填充内容<a href="javascript:void(0)" name = "requestContent">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">var url = '/cdn/bst/bstdialog_requestcontent.html';//请求的url
BSTYUN.dialog.requestContent(url);</pre>
    </code>
  </dd>
  <dt>购物车对话框<a href="javascript:void(0)" name ="go2cart">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">
      var html = '';//定义内容结构
      html = '&lt;div class="addcart_success"&gt;&lt;h3&gt;您已经购买的套餐：&lt;/h3&gt;&lt;dl&gt;';
      html += '&lt;dt&gt;&lt;span class="taocan_name"&gt;&lt;input type="radio" class="taocan_radio" name ="taocan" checked="checked"/&gt;套餐&lt;em&gt;A&lt;/em&gt;名称:XXX&lt;/span&gt;&lt;span&gt;使用年限：&lt;em class="use_year"&gt;2&lt;/em&gt;年 使用人数：&lt;em class="use_people"&gt;100人&lt;/em&gt;&lt;/span&gt;&lt;/dt&gt;';
      html += '&lt;dd&gt;&lt;p&gt;子产品：OA，即时通，云随洽&lt;/p&gt;&lt;/dd&gt;';
      html += '&lt;dt&gt;&lt;span class="taocan_name"&gt;&lt;input type="radio" class="taocan_radio" name ="taocan"/&gt;套餐&lt;em&gt;B&lt;/em&gt;名称:XXX&lt;/span&gt;&lt;span&gt;使用年限：&lt;em class="use_year"&gt;1&lt;/em&gt;年 使用人数：&lt;em class="use_people"&gt;99人&lt;/em&gt;&lt;/span&gt;&lt;/dt&gt;';
      html += '&lt;dd&gt;&lt;p&gt;子产品：视频会议&lt;/p&gt;&lt;/dd&gt;';
      html += '&lt;p class="taocan_detail"&gt;&lt;/p&gt;';
      html += '&lt;/dl&gt;&lt;div class="btm"&gt;&lt;a href="javascript:BSTYUN.dialog.close();" class="graybtn"&gt;取消&lt;/a&gt;&lt;span&gt;&nbsp;&lt;/span&gt;&lt;a href="javascript:BSTYUN.dialog.close();" class="btn"&gt;确定&lt;/a&gt;&lt;/div&gt;&lt;/div&gt;';
      BSTYUN.dialog.go2cart(html);</pre>
    </code>
  </dd>
  <dt>弹窗倒计时关闭1<a href="javascript:void(0)" name = 'timedown'>戳我查看</a></dt>
  <dd>
    code：
      <code>
        <pre class="js">BSTYUN.dialog.creat({
          content: "时间越来越少，越来越少..",
          init: function () {
            var that = this, i = 5;
              var fn = function () {
                  that.title(i + "秒后关闭");
                  !i && that.close();
                  i --;
              };
              timer = setInterval(fn, 1000);
              fn();
          },
          close: function () {
            clearInterval(timer);
          }
})</pre>
      </code>

  </dd>
  <dt>弹窗倒计时关闭2:可参数设置<a href="javascript:void(0)" name = 'timedown2'>戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.creat({
        content: "默认3秒后关闭",
        title: '标题',
        time: 3
})</pre>
    </code>
  </dd>
  <dt>全局登入<a href="javascript:void(0)" name ="showLogin">戳我查看</a></dt>
  <dd>
    code：
    <code>
      <pre class="js">BSTYUN.dialog.showLogin()</pre>
    </code>
  </dd>
</dl>
<div style="height:100px;padding:20px;">
  附件：<br>
  <a href="http://172.16.3.174/cdn/bst/font/bstfont.html" target="_blank">百顺通云图标库</a><br>
  <a href="http://172.16.3.174/cdn/bst/bstyun_dialog_source.rar" target="_blank">BSTYUN.dialog源码</a>
</div>
<h4 style="font-size:18px;margin:20px;">BSTYUN.dialog API:</h4>
  <code>
<pre class="js">BSTYUN.dialog = {
  /**
   * [创建dialog对话框]
   * @param  {[字面量格式]} options  [对话框参数]
   * @return {[dialog]}              [创建的dialog对象]
   */
    creat: function (options) {
        var dialog = null;
        options = $.extend({
            fixed:true,
            title:false,
            lock:true,
            padding:'20px 40px',
            id: '',
            content: ''
        },options);
        dialog=$.dialog(options);
        return dialog;
    },
  /**
   * 关闭对话框
   * @param  {[string]} id   [dialog对象的id]
   * @return {[undefind]}    [无返回值]
   */
  close: function(id){
    var i,list = $.dialog.list;
    if (id) {
      list[id].close();
    }else{
      for (i in list) {
        list[i].close();
      }
    }
  },
  /**
   * [获取dialog对象]
   * @param  {[string]} id [dialog对象的id]
   * @return {[dialog]}    [无参数，则返回全部dialog，有id，则返回对应的dialog对象]
   */
  get: function(id){
    return id === undefined ? $.dialog.list : $.dialog.list[id]; 
  },
  /**
   * [提示信息]
   * @param  {[string]}   html   [提示内容]
   * @param  {Function} callback [回调函数]
   * @return {[undefined]}       [无返回值]
   */
  ok: function (html,callback){
        var dialog = null;
        html = '&lt;div class="ok-tip"&gt;&lt;i class="iconfont"&gt;&#xe629;&lt;/i&gt;'+html+'&lt;/div&gt;';
        dialog = this.creat({id:'ok',content:html});
        dialog.button({
            name: '知道了',
            focus: true,
            callback: callback
        });
    },
    /**
     * [警告信息]
     * @param  {[string]}   html     [警告内容]
     * @param  {Function} callback   [回调函数]
     * @return {[undefined]}         [无返回值]
     */
  warn: function(html,callback){
    var dialog = null,
    html = '&lt;div class="warn-tip"&gt;&lt;i class="iconfont"&gt;&#xe603;&lt;/i&gt;'+html+'&lt;/div&gt;';
    dialog = this.creat({id: 'warn',content:html});
    dialog.button({
      name: '知道了',
      focus: true,
      callback: callback
    });
  },
  /**
   * [操作成功]
   * @param  {[string]} html    [成功提示]
   * @param  {[number]} time    [提示消失时间，秒]
   * @return {[undefined]}        [无返回值]
   */
    success: function (html,time) {
        var dialog = null;
        time = time || 2;
        this.close();
        html = '&lt;div class="success-tip"&gt;&lt;i class="iconfont"&gt;&#xe662;&lt;/i&gt;'+html+'&lt;/div&gt;'
        dialog = this.creat({id:'success',content:html,lock:false});
        setTimeout(function(){
            var $dg = $(dialog.DOM.wrap);
            $dg.animate({'top':'-=50px','opacity':0},300,'easeInBack',function(){
                dialog.close();
            });
        }, time*1000);
    },
    /**
     * [确认对话框]
     * @param  {[string]}   html     [确认内容]
     * @param  {Function} callback   [回调函数]
     * @return {[undefined]}         [无返回值]
     */
    confirm: function (html,callback) {
        var dialog = null;
        html = '&lt;div class="confirm-tip"&gt;&lt;i class="iconfont"&gt;&#xe61e;&lt;/i&gt;'+html+'&lt;/div&gt;';
        dialog = this.creat({id:'confirm',content:html});
        dialog.button({
            name: '确定',
            focus: true,
            callback: callback
        },{
            name: '取消',
        });
    },
    /**
     * [禁止操作对话框]
     * @param  {[string]}   html   [禁止内容]
     * @param  {Function} callback [回调函数]
     * @return {[undefined]}       [返回值]
     */
    prohibit: function(html,callback){
        var dialog = null,$dg = null;
        html = '&lt;div class="prohibit-tip"&gt;&lt;i class="iconfont"&gt;&#xe63e;&lt;/i&gt;'+html+'&lt;/div&gt;';
        dialog = this.creat({
            id: 'prohibit',
            content: html,
            init: function(){
                $dg  = $('.aui_outer');
                $dg.removeClass('aui_outer');
            },
            close: function(){
                $dg.addClass('aui_outer');
            }
        });
        dialog.button({
            name: '知道了',
            focus: true,
            callback: callback
        });
        dialog.shake && dialog.shake();// 调用抖动接口
    },
    /**
     * [右下角通知]
     * @param  {[string]}   html     [通知内容]
     * @param  {Function} callback   [回调函数]
     * @return {[undefined]}         [返回值]
     */
    notice: function(html,callback){
        var dialog = null;
        dialog = art.dialog.notice({
            id: 'notice',
            title: '百顺通提醒您',
            width: 220, // 必须指定一个像素宽度值或者百分比，否则浏览器窗口改变可能导致artDialog收缩
            content: '&lt;div class="notice-tip"&gt;&lt;i class="iconfont"&gt;&#xe64b;&lt;/i&gt;'+html+'&lt;/div&gt;',
            time: 5,
            close: function(){
                callback && callback();
            }
        });
    },
    /**
     * [请求ajax返回数据]
     * @param  {[string]}   url       [请求的后台地址]
     * @param  {Function} callback    [确定的回调函数]
     * @return {[undefined]}            [返回值]
     */
    requestContent: function(url,callback){
    var dialog = null;
      dialog = $.dialog({
            fixed:true,
            title:false,
            lock:true,
            padding:'20px 40px',
            id: 'requestContent',
            content: undefined
      });
      setTimeout(function(){
        $.ajax({
          url: url,
          type: 'post',
          dataType: 'text',
          success:function(html){
            dialog.content(html);
            dialog.button([{
                name: '确定',
                focus: true,
                callback: callback
                }]);
          },
          error: function(error){
            alert(error)
          }
        });
      },3000);

    },
    /*购物车*/
    go2cart: function(html){
      var $cart = this.creat({
          id: 'addCartSuccess',
          title: false,
          lock: true,
          content: html
      });
      var $radio = $('.taocan_radio');
      $radio.on('click', function(event) {
      var $this = $(this);
      var $em = $this.parent('span').next().find('em');
      var taocan = $this.nextAll('em').text();
      var use_year = $em.eq(0).text(),
        use_people = $em.eq(1).text();
      $('.addcart_success').find('.taocan_detail').html('您选择了'+taocan+'套餐，截至时间，则该产品您所能购买的最大年限为'+use_year+'年，最大使用人数为'+use_people+'人。同意点击确定，否则请点击取消');
    });
    $radio.eq(0).trigger('click');
    },
    /**
     * [全局登录]
     * @param  {[string]} reurl      [登录后的跳转地址]
     * @return {[undefined]}         [返回值]
     */
    showLogin:function(reurl){
        var _login_box = null,
            reurl = reurl || location.href,
        html = '&lt;div class="dialog_login_box"&gt;&lt;div id="login-box"&gt;'
                +'&lt;h2&gt;&lt;div class="trig"&gt;没有帐号？&lt;a href="javascript:void(0)" target="_blank" class="trigger-box"&gt;点击注册&lt;/a&gt;&lt;/div&gt;登录&lt;/h2&gt;'
                +'&lt;div class="form-bd"&gt;&lt;div class="form_box cle" id="login-bstyun"&gt;'
                +'&lt;div class="login_box"&gt;&lt;form id="login-bstyun-form"&gt;&lt;ul class="form"&gt;'
                +'&lt;li class="text_input"&gt;&lt;span class="error_icon"&gt;&lt;/span&gt;&lt;span class="iconfont"&gt;&#xe612;&lt;/span&gt;&lt;input type="text" name="j_username" class="text" placeholder="用户名/邮箱/手机号"&gt;&lt;/li&gt;'
                +'&lt;li class="text_input"&gt;&lt;span class="error_icon"&gt;&lt;/span&gt;&lt;span class="iconfont"&gt;&#xe606;&lt;/span&gt;&lt;input type="password" name="j_password" class="text" placeholder="密码"&gt;&lt;/li&gt;'
                +'&lt;li class="error_box"&gt;&lt;em&gt;&lt;/em&gt;&lt;/li&gt;'
                +'&lt;li class="login_param"&gt;&lt;p&gt;&lt;a class="forget_psd" href="javascript:void(0)"&gt;忘记密码?&lt;/a&gt;&lt;label&gt;&lt;input type="checkbox" checked="checked" name="_spring_security_remember_me" class="remember-me"&gt;下次自动登录&lt;/label&gt;&lt;/p&gt;&lt;/li&gt;'
                +'&lt;li class="last"&gt;&lt;input type="submit" class="btn" value="登 录" /&gt;&lt;/li&gt;'
                +'&lt;/ul&gt;&lt;/form&gt;&lt;/div&gt;'
                +'&lt;/div&gt;&lt;/div&gt;'
                +'&lt;/div&gt;&lt;/div&gt;';
        _login_box = BSTYUN.dialog.creat({
            title: '您尚未登录',
            lock: true,
            drag: false,
            fixed: true,
            padding:"0",
            id: "login",
            content:html,
            init: function() {

                var $form = $('#login-bstyun-form'),
                    $name = $form.find('input[name=j_username]'),
                    $pwd = $form.find('input[name=j_password]'),
                    $submit = $form.find('input[type=submit]'),
                    $msg = $form.find('li.error_box em'),
                    $input = $form.find('li.text_input');

                    $form.find("input").focus(function() {
                        $input.removeClass("params_error");
                    });

                $form.submit(function(){
                    var _name = $.trim($name.val()),
                        _pwd = $.trim($pwd.val()),
                        text, params;

                    if($submit.hasClass('disabled')){
                        return false;
                    }

                    if(_name == '' || _pwd == ''){
                        text = (_name == '') ? '请输入用户名':'请输入密码';
                        $msg.text(text).show().delay(2000).fadeOut();
                        return false;
                    }

                    $submit.addClass('disabled').val('登录中');
                    params = {
                        'j_username': _name,
                        'j_password': _pwd,
                        '_spring_security_remember_me':'on'
                    };

                    $.ajax({
                        url: "/j_spring_security_check",
                        type: 'post',
                        data: params,
                        dataType: 'json',
                        success: function(data){
                            if(data.status == 1){
                                location.href=reurl;
                            }else if(data.status == 0){
                                $submit.removeClass('disabled').val('登 录');
                                $msg.text('您输入的密码和用户名不匹配').show().delay(2000).fadeOut();
                                $input.addClass('params_error');
                            }
                        },
                        error: function(xhr){
                            if(xhr.status == 200){
                                location.reload();
                            }else{
                                $submit.removeClass('disabled').val('登 录');
                                BSTYUN.dialog.warn("服务器忙，请稍后再试。("+xhr.status+")");
                            }
                        }
                    });
                    return false;
                });
            }
        });
    }
};</pre>
  </code>
</body>
</html>
